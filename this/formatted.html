<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>html demos</title>
<link href="../style.css" rel="stylesheet"/>
</head>


<body>
	<div class="image">
		<img class="screenshot" src="screenshot.png">		
	</div>
			
<div class="bookmark">./this/front_page.html</div><pre class=html>
<kw>&lt!DOCTYPE html&gt</kw>
<kw>&lthtml lang="en"&gt</kw>
	<kw>&ltmeta charset="UTF-8"&gt</kw>
	<kw>&lttitle&gt</kw>Page Title<kw>&lt/title&gt</kw>
	<kw>&ltmeta name="viewport" content="width=device-width,initial-scale=1"&gt</kw>
	<kw>&ltlink rel="stylesheet" href="style.css"&gt</kw>


	<kw>&lt/style&gt</kw>
	<kw>&ltbody&gt</kw>
		<kw>&ltul class="top_menu"&gt</kw>
			<kw>&ltli&gt</kw><kw>&lta href="#html"&gt</kw>.html<kw>&lt/a&gt</kw><kw>&lt/li&gt</kw>
			<kw>&ltli&gt</kw><kw>&lta href="#python"&gt</kw>.py<kw>&lt/a&gt</kw><kw>&lt/li&gt</kw>
			<kw>&ltli&gt</kw><kw>&lta href="#javascript"&gt</kw>.js<kw>&lt/a&gt</kw><kw>&lt/li&gt</kw>
			<kw>&ltli&gt</kw><kw>&lta href="#C"&gt</kw>.c<kw>&lt/a&gt</kw><kw>&lt/li&gt</kw>
			<kw>&ltli&gt</kw><kw>&lta href="#text"&gt</kw>.txt<kw>&lt/a&gt</kw><kw>&lt/li&gt</kw>
		<kw>&lt/ul&gt</kw>

		<kw>&ltwedge id="html"&gt</kw>h<kw>&lt/wedge&gt</kw>
		<kw>&ltdiv class="bookmark"&gt</kw>
			html
		<kw>&lt/div&gt</kw>

		<kw>&ltdiv class="image_box"&gt</kw>	
			<kw>&lta href="./soccer_page/formatted.html"/&gt</kw>
					<kw>&ltimg src="./soccer_page/screenshot.png"&gt</kw>
					<kw>&ltp&gt</kw>layout_1<kw>&lt/p&gt</kw>
			<kw>&lt/a&gt</kw>
			<kw>&lta href="#"/&gt</kw>
					<kw>&ltimg src="test.png"&gt</kw>
					<kw>&ltp&gt</kw>under_construction<kw>&lt/p&gt</kw>
			<kw>&lt/a&gt</kw>
			<kw>&lta href="#"/&gt</kw>
					<kw>&ltimg src="test1.png"&gt</kw>
					<kw>&ltp&gt</kw>under_construction<kw>&lt/p&gt</kw>
			<kw>&lt/a&gt</kw>
		<kw>&lt/div&gt</kw>

		<kw>&ltwedge id="javascript"&gt</kw>h<kw>&lt/wedge&gt</kw>
		<kw>&ltdiv class="bookmark"&gt</kw>
			javascript
		<kw>&lt/div&gt</kw>
		<kw>&ltdiv class="link_box"&gt</kw>
			<kw>&lta href="https://boris-volkov.github.io/games/terminal.html"&gt</kw>mobius_terminal<kw>&lt/a&gt</kw>
			<kw>&lta href="https://boris-volkov.github.io/games/quest/quest.html"&gt</kw>calculator_quest<kw>&lt/a&gt</kw>
			<kw>&lta href="https://boris-volkov.github.io/games/game/game.html"&gt</kw>2d_engine<kw>&lt/a&gt</kw>
			<kw>&lta href="https://boris-volkov.github.io/games/sixteens/fifteen.html"&gt</kw>fifteen_puzzle<kw>&lt/a&gt</kw>
			<kw>&lta href="https://boris-volkov.github.io/games/sixteens/sixteens.html"&gt</kw>sixteen_puzzle<kw>&lt/a&gt</kw>
			<kw>&lta href="./princess/formatted.html"&gt</kw>the_princess's_test<kw>&lt/a&gt</kw>
			<kw>&lta href="https://boris-volkov.github.io/games/territory/page.html"&gt</kw>territories<kw>&lt/a&gt</kw>
			<kw>&lta href="https://boris-volkov.github.io/games/sixteens/gradient.html?size=32"&gt</kw>gradient_maker<kw>&lt/a&gt</kw>
		<kw>&lt/div&gt</kw>


		<kw>&ltwedge id="python"&gt</kw>h<kw>&lt/wedge&gt</kw>
		<kw>&ltdiv class="bookmark"&gt</kw>
			python
		<kw>&lt/div&gt</kw>
		<kw>&ltdiv class="link_box"&gt</kw>
			<kw>&lta href="./chaos/formatted.html"&gt</kw>chaos_graph<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
		<kw>&lt/div&gt</kw>

		<kw>&ltwedge id="C"&gt</kw>h<kw>&lt/wedge&gt</kw>
		<kw>&ltdiv class="bookmark"&gt</kw>

			C
		<kw>&lt/div&gt</kw>
		<kw>&ltdiv class="link_box"&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
		<kw>&lt/div&gt</kw>

		<kw>&ltwedge id="text"&gt</kw>h<kw>&lt/wedge&gt</kw>
		<kw>&ltdiv class="bookmark"&gt</kw>
			text
		<kw>&lt/div&gt</kw>
		<kw>&ltdiv class="link_box"&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
			<kw>&lta href="#"&gt</kw>under_construction<kw>&lt/a&gt</kw>
		<kw>&lt/div&gt</kw>
	<kw>&lt/body&gt</kw>
<kw>&lt/html&gt</kw> 
</pre>
<div class="bookmark">./this/template.html</div><pre class=html>
<kw>&lt!doctype html&gt</kw>

<kw>&lthtml lang="en"&gt</kw>
<kw>&lthead&gt</kw>
  <kw>&ltmeta charset="utf-8"&gt</kw>

  <kw>&lttitle&gt</kw>html demos<kw>&lt/title&gt</kw>
<kw>&ltlink href="../style.css" rel="stylesheet"/&gt</kw>
<kw>&lt/head&gt</kw>


<kw>&ltbody&gt</kw>
	<kw>&ltdiv class="image"&gt</kw>
		<kw>&ltimg class="screenshot" src="screenshot.png"&gt</kw>		
	<kw>&lt/div&gt</kw>
			
WRITE_HERE

<kw>&lt/body&gt</kw>
<kw>&lt/html&gt</kw>
</pre>
<div class="bookmark">./this/style.css</div><pre class=css>
<css></css>
<sc>* {</sc>
<css>	color: coral;</css>
<css>	font-family : Courier;</css>
<css>	font-weight : 700;</css>
<css>	box-sizing : border-box; <comment class="css">/* to correct sizes */</comment></css>
<sc>}</sc>
<css></css>
<sc>body {</sc>
<css>	background-color : #333942;</css>
<sc>}</sc>
<css></css>
<sc>a {</sc>
<css>	text-decoration: none;</css>
<sc>}</sc>
<css></css>
<sc>.top_menu {</sc>
<css>	position : sticky; 		<comment class="css">/* stick to top of screen */</comment></css>
<css>	top : 0;</css>
<css>	width : 95vw;</css>
<css>	list-style: none;</css>
<css>	border-radius:10px;</css>
<css>	border-bottom-left-radius: 30px;</css>
<css>	padding: 0;</css>
<css>	margin: auto;</css>
<css>	overflow: auto;			<comment class="css">/* to keep its form */</comment></css>
<sc>}</sc>
<css>		</css>
<sc>.top_menu li {</sc>
<css>	text-align:center;</css>
<css>	float: left; </css>
<css>	width: 20%;</css>
<sc>}</sc>
<css></css>
<sc>.top_menu li a {</sc>
<css>	background-color: #445;</css>
<css>	color: coral;</css>
<css>	text-decoration: none;</css>
<css>	display: block;  		<comment class="css">/* to take up full space */</comment></css>
<css>	padding: 15px 20px;</css>
<sc>}</sc>
<css></css>
<sc>.top_menu li a:hover {</sc>
<css>	background: #358;</css>
<sc>}</sc>
<css></css>
<css></css>
<sc>img.screenshot {</sc>
<css>	width: 60vw;</css>
<css>	object-fit: contain;</css>
<css>	margin-left:auto;</css>
<css>	margin-right:auto;</css>
<css>	display: block;			<comment class="css">/* to be able to center it */</comment></css>
<sc>}</sc>
<css></css>
<sc>div, pre {</sc>
<css>	margin: auto;</css>
<css>	padding: 10px;</css>
<css>	padding-left: 40px;</css>
<css>	width: 90vw;   			<comment class="css">/* 90% of viewport width */</comment></css>
<css>	border-radius: 16px;</css>
<css>	border-top-left-radius: 40px;</css>
<css>	tab-size: 4;			<comment class="css">/* otherwise its 8 spaces*/</comment></css>
<css>	-moz-tab-size: 4;</css>
<sc>}</sc>
<css></css>
<sc>pre, a {</sc>
<css>	white-space: pre-wrap;  <comment class="css">/* to wrap text */</comment></css>
<css>	word-break: keep-all	<comment class="css">/* so words don't get broken in wrap */</comment></css>
<sc>}</sc>
<css></css>
<sc>div {</sc>
<css>	padding: 30px;</css>
<sc>}</sc>
<css></css>
<sc>div.bookmark {</sc> 				<comment class="css">/* the little tab above all the boxes */</comment>
<css>	text-align: center;</css>
<css>	padding: 5px;</css>
<css>	width: 36vw;</css>
<css>	background-color : #345;</css>
<css>	margin-bottom : 0;</css>
<css>	border-radius: 0;</css>
<css>	margin-top: 70px;</css>
<css>	border-top-right-radius : 30px;</css>
<css>	border-top-left-radius : 30px;</css>
<sc>}</sc>
<css></css>
<sc>div.image {</sc>
<css>	background-color: #011;</css>
<sc>}</sc>
<css></css>
<sc>.link_box {</sc>
<css>	background: #345;</css>
<css>	margin: 0 auto 30px; 	<comment class="css">/* top sides bottom */</comment></css>
<sc>}</sc>
<css></css>
<sc>.link_box a {</sc>
<css>	display:block;			<comment class="css">/* to take up full row */</comment></css>
<css>	background: #456;</css>
<css>	padding: 10px;</css>
<css>	padding-left: 30px;</css>
<css>	margin: 5px;</css>
<css>	border-top-left-radius: 20px;</css>
<css>	border-top-right-radius: 20px;</css>
<sc>}</sc>
<css></css>
<sc>.link_box a:hover {</sc>
<css>	background: #358;</css>
<sc>}</sc>
<css></css>
<sc>.image_box {</sc>
<css>	background: #345;</css>
<css>	display: flex;</css>
<css>	flex-wrap: wrap;</css>
<css>	justify-content: space-between;</css>
<sc>}</sc>
<css></css>
<sc>.image_box a {</sc>
<css>	background: #456;</css>
<css>	max-width: 30%;</css>
<css>	border-top-left-radius: 20px;</css>
<css>	border-top-right-radius: 20px;</css>
<css>	padding: 20px;</css>
<css>	margin: 10px;</css>
<css>	display: flex;</css>
<css>	flex-direction : column;</css>
<css>	align-content : center;</css>
<css>	justify-content: center;</css>
<sc>}</sc>
<css></css>
<sc>.image_box a p {</sc>
<css>	background: inherit;</css>
<css>	text-align: center;</css>
<css></css>
<sc>}</sc>
<css></css>
<sc>.image_box a:hover {</sc>
<css>	background: #358;</css>
<sc>}</sc>
<css></css>
<sc>.image_box img {</sc>
<css>	max-width: 90%;</css>
<css>	object-fit: cover;</css>
<css>	padding:0px;</css>
<css>	margin-left: auto;</css>
<css>	margin-right: auto;</css>
<css>	border: 2px coral solid;</css>
<sc>}</sc>
<css></css>
<sc>pre.notes {</sc>
<css>	background-color: #357;</css>
<css>	color: white;</css>
<sc>}</sc>
<css></css>
<css></css>
<css></css>
<css></css>
<sc>pre.html {</sc>
<css>	background-color: #375;</css>
<css>	color: #000;</css>
<sc>}</sc>
<css></css>
<sc>.html kw {</sc>
<css>	color: yellow;</css>
<sc>}</sc>
<css></css>
<sc>.html sc {</sc>
<css>	color: yellow;</css>
<sc>}</sc>
<css></css>
<css></css>
<css></css>
<css></css>
<css></css>
<sc>pre.css {</sc>
<css>	background-color: #366;</css>
<css>	color: #eee;	</css>
<sc>}</sc>
<css></css>
<sc>.css sc {</sc>
<css>	color : #3ff;</css>
<sc>}</sc>
<css></css>
<css></css>
<css></css>
<sc>pre.py {</sc>
<css>	background-color: #369;</css>
<css>	color: #000;</css>
<sc>}</sc>
<css></css>
<sc>.py sc {</sc>
<css>	color: #bb2;</css>
<sc>}</sc>
<css></css>
<sc>.py kw {</sc>
<css>	color: coral;</css>
<sc>}</sc>
<css></css>
<css></css>
<css></css>
<sc>pre.js {</sc>
<css>	background-color: rgb(140,110,110);</css>
<css>	color: #210;</css>
<sc>}</sc>
<css></css>
<sc>.js sc {</sc>
<css>	color: #246;</css>
<sc>}</sc>
<css></css>
<sc>.js kw {</sc>
<css>	color: #142;</css>
<sc>}</sc>
<css></css>
<css></css>
<css></css>
<sc>sc, kw {</sc> <comment class="css">/* special characters and key words */</comment>
<css>	background-color:inherit;</css>
<sc>}</sc>
<css></css>
<css></css>
<css></css>
<sc>comment {</sc>
<css>	background-color: inherit;</css>
<sc>}</sc>
<css></css>
<css></css>
<sc>css {</sc>
<css>	background-color: inherit;</css>
<css>	color: white;</css>
<sc>}</sc>
<css></css>
<css></css>
<sc>string {</sc>
<css>	background-color: inherit;</css>
<css>	color: pink;</css>
<sc>}</sc>
<css></css>
<sc>comment.css {</sc>
<css>	color: #f64;</css>
<sc>}</sc>
<css></css>
<sc>comment.js {</sc>
<css>	color: #532;</css>
<sc>}</sc>
<css></css>
<sc>comment.html {</sc>
<css>	color: #242;</css>
<sc>}</sc>
<css></css>
<sc>comment.py {</sc>
<css>	color: #142;</css>
<sc>}</sc>
<css></css>
<css></css>
<sc>comment sc, comment kw {</sc> <comment class="css">/* comment overrides special symbols */</comment>
<css>	color: inherit!important;</css>
<sc>}</sc>
<css></css>
<sc>wedge {</sc> <comment class="css">/*for correct spacing when linking within page */</comment>
<css>	height: 80px;</css>
<css>	padding-top 10px;</css>
<css>	visibility:hidden;</css>
<sc>}</sc>
<css></css>
<css></css>
</pre>
<div class="bookmark">./this/encoder.py</div><pre class=py>
<kw>import</kw> sys, os.path, re

special_symbols = list<sc>(</sc>'<sc>[</sc><sc>]</sc><sc>(</sc><sc>)</sc><sc>{</sc><sc>}</sc><sc>;</sc>'<sc>)</sc>

js_reserved = <sc>[</sc>
    "<kw>await</kw>",    "<kw>break</kw>",    "case",
    "catch",    "<kw>class</kw>",    "const",
    "<kw>continue</kw>", "debugger", "default",
    "delete",   "do",       "<kw>else</kw>",
    "enum",     "export",   "extends",
    "false",    "<kw>finally</kw>",  "<kw>for</kw>",
    "function", "<kw>if</kw>",       "implements",
    "<kw>import</kw>",   "<kw>in</kw>",       "<kw>in</kw>stanceof",
    "interface","let",      "new",
    "null",     "package",  "private",
    "protected","public",   "<kw>return</kw>",
    "super",    "switch",   "static",
    "this",     "throw",    "<kw>try</kw>",
    "<kw>True</kw>",     "typeof",   "var",
    "void",     "<kw>while</kw>",    "<kw>with</kw>",
    "<kw>yield</kw>",
<sc>]</sc>

py_reserved = <sc>[</sc>
    '<kw>False</kw>',    '<kw>None</kw>',     '<kw>True</kw>', 
    '<kw>and</kw>',      '<kw>as</kw>',       '<kw>as</kw>sert', 
    '<kw>async</kw>',    '<kw>await</kw>',    '<kw>break</kw>', 
    '<kw>class</kw>',    '<kw>continue</kw>', '<kw>def</kw>', 
    '<kw>del</kw>',      '<kw>elif</kw>',     '<kw>else</kw>', 
    '<kw>except</kw>',   '<kw>finally</kw>',  '<kw>for</kw>', 
    '<kw>from</kw>',     '<kw>global</kw>',   '<kw>if</kw>', 
    '<kw>import</kw>',   '<kw>in</kw>',       '<kw>is</kw>', 
    '<kw>lambda</kw>',   '<kw>nonlocal</kw>', '<kw>not</kw>', 
    '<kw>or</kw>',       '<kw>pass</kw>',     '<kw>raise</kw>', 
    '<kw>return</kw>',   '<kw>try</kw>',      '<kw>while</kw>', 
    '<kw>with</kw>',     '<kw>yield</kw>'<sc>]</sc>


<kw>def</kw> findWholeWord<sc>(</sc>w<sc>)</sc>:
    <kw>return</kw> re.compile<sc>(</sc>r'\b<sc>(</sc><sc>{</sc>0<sc>}</sc><sc>)</sc>\b'.format<sc>(</sc>w<sc>)</sc><sc>)</sc>.search

<kw>if</kw> __name__ == "__main__":

    <kw>if</kw> os.path.exists<sc>(</sc>"./" + sys.argv<sc>[</sc>1<sc>]</sc> + "formatted.html"<sc>)</sc>:
        os.remove<sc>(</sc>"./" + sys.argv<sc>[</sc>1<sc>]</sc> + "formatted.html"<sc>)</sc>

    js_readers = <sc>[</sc><sc>]</sc>
    html_readers = <sc>[</sc><sc>]</sc>
    css_readers = <sc>[</sc><sc>]</sc>
    txt_readers = <sc>[</sc><sc>]</sc>
    py_readers = <sc>[</sc><sc>]</sc>

    <kw>for</kw> <sc>(</sc>root, subs, files<sc>)</sc> <kw>in</kw> os.walk<sc>(</sc>"./" + sys.argv<sc>[</sc>1<sc>]</sc><sc>)</sc>:
        <kw>for</kw> name <kw>in</kw> files:
            <kw>if</kw> name.endswith<sc>(</sc>'.js'<sc>)</sc>:
                <kw>with</kw> open<sc>(</sc>root+name<sc>)</sc> <kw>as</kw> temp:
                    js_readers.append<sc>(</sc><sc>[</sc>root+name<sc>]</sc> + temp.readlines<sc>(</sc><sc>)</sc><sc>)</sc>
            <kw>if</kw> name.endswith<sc>(</sc>'.html'<sc>)</sc>:
                <kw>with</kw> open<sc>(</sc>root+name<sc>)</sc> <kw>as</kw> temp:                
                    html_readers.append<sc>(</sc><sc>[</sc>root+name<sc>]</sc> + temp.readlines<sc>(</sc><sc>)</sc><sc>)</sc>
            <kw>if</kw> name.endswith<sc>(</sc>'.css'<sc>)</sc>:
                <kw>with</kw> open<sc>(</sc>root+name<sc>)</sc> <kw>as</kw> temp:                
                    css_readers.append<sc>(</sc><sc>[</sc>root+name<sc>]</sc> + temp.readlines<sc>(</sc><sc>)</sc><sc>)</sc>
            <kw>if</kw> name.endswith<sc>(</sc>'.txt'<sc>)</sc>:
                <kw>with</kw> open<sc>(</sc>root+name<sc>)</sc> <kw>as</kw> temp:                
                    txt_readers.append<sc>(</sc><sc>[</sc>root+name<sc>]</sc> + temp.readlines<sc>(</sc><sc>)</sc><sc>)</sc>
            <kw>if</kw> name.endswith<sc>(</sc>'.py'<sc>)</sc>:
                <kw>with</kw> open<sc>(</sc>root+name<sc>)</sc> <kw>as</kw> temp:                
                    py_readers.append<sc>(</sc><sc>[</sc>root+name<sc>]</sc> + temp.readlines<sc>(</sc><sc>)</sc><sc>)</sc>

    _tp     = open<sc>(</sc>"template.html"<sc>)</sc>
    template    = _tp.readlines<sc>(</sc><sc>)</sc>
    _of     = open<sc>(</sc>"./" + sys.argv<sc>[</sc>1<sc>]</sc> + "formatted.html", "w+"<sc>)</sc>

    i = 0
    <kw>while</kw> "WRITE_HERE" <kw>not</kw> <kw>in</kw> template<sc>[</sc>i<sc>]</sc>:
        _of.write<sc>(</sc>template<sc>[</sc>i<sc>]</sc><sc>)</sc>
        i += 1

    <kw>for</kw> txt <kw>in</kw> txt_readers:
        _of.write<sc>(</sc>'&ltdiv <kw>class</kw>="bookmark"&gt' + txt<sc>[</sc>0<sc>]</sc>  +  '&lt/div&gt'<sc>)</sc>
        _of.write<sc>(</sc>"&ltpre <kw>class</kw>=notes&gt\n"<sc>)</sc>
        <kw>for</kw> l<kw>in</kw>e <kw>in</kw> txt<sc>[</sc>1:<sc>]</sc>:
            _of.write<sc>(</sc>line<sc>)</sc>
        _of.write<sc>(</sc>"&lt/pre&gt\n"<sc>)</sc>

    <kw>for</kw> html <kw>in</kw> html_readers:
        _of.write<sc>(</sc>'&ltdiv <kw>class</kw>="bookmark"&gt' + html<sc>[</sc>0<sc>]</sc>  +  '&lt/div&gt'<sc>)</sc>
        _of.write<sc>(</sc>"&ltpre <kw>class</kw>=html&gt\n"<sc>)</sc>
        <kw>for</kw> l<kw>in</kw>e <kw>in</kw> html<sc>[</sc>1:<sc>]</sc>:  
            r = line.replace<sc>(</sc>"&lt", "&ltkw*^+&lt"<sc>)</sc>  <comment Class="py">#  *^+ just a token <kw>for</kw></comment>
            r = r.replace<sc>(</sc>"&gt","&gt&lt/kw&gt"<sc>)</sc>       
            r = r.replace<sc>(</sc>"*^+", "&gt"<sc>)</sc>           <comment Class="py">#  this line to match. Weird, i know...</comment>
            <kw>if</kw> "&ltkw&gt&lt!--" <kw>in</kw> r:
                r = r.replace<sc>(</sc>"&ltkw&gt&lt!--", '&ltcomment <kw>class</kw>="html"&gt&lt!--'<sc>)</sc>
                r = r.replace<sc>(</sc>"--&gt&lt/kw&gt", '--&gt&lt/comment&gt'<sc>)</sc>
            _of.write<sc>(</sc>r<sc>)</sc>
        _of.write<sc>(</sc>"&lt/pre&gt\n"<sc>)</sc>

    <kw>for</kw> css <kw>in</kw> css_readers:
        _of.write<sc>(</sc>'&ltdiv <kw>class</kw>="bookmark"&gt' + css<sc>[</sc>0<sc>]</sc>  +  '&lt/div&gt'<sc>)</sc>
        _of.write<sc>(</sc>"&ltpre <kw>class</kw>=css&gt\n"<sc>)</sc>
        <kw>for</kw> l<kw>in</kw>e <kw>in</kw> css<sc>[</sc>1:<sc>]</sc>:
            r = line
            <kw>if</kw> "<sc>{</sc>" <kw>in</kw> l<kw>in</kw>e:
                r = "&ltsc&gt"
                r = r + line.replace<sc>(</sc>"<sc>{</sc>", "<sc>{</sc>&lt/sc&gt"<sc>)</sc>
            <kw>elif</kw> "<sc>}</sc>" <kw>in</kw> l<kw>in</kw>e:
                r = line.replace<sc>(</sc>"<sc>}</sc>", "&ltsc&gt<sc>}</sc>&lt/sc&gt"<sc>)</sc>
            <kw>else</kw>:
                r = "&ltcss&gt" + r<sc>[</sc>:-1<sc>]</sc> + "&lt/css&gt\n"

            <kw>if</kw> "/*" <kw>in</kw> r:
                r = r.replace<sc>(</sc>'/*', '&ltcomment <kw>class</kw>="css"&gt/*'<sc>)</sc>
                r = r.replace<sc>(</sc>'*/', '*/&lt/comment&gt'<sc>)</sc>

            _of.write<sc>(</sc>r<sc>)</sc>
        _of.write<sc>(</sc>"&lt/pre&gt\n"<sc>)</sc>

    <kw>for</kw> js <kw>in</kw> js_readers:
        _of.write<sc>(</sc>'&ltdiv <kw>class</kw>="bookmark"&gt' + js<sc>[</sc>0<sc>]</sc>  +  '&lt/div&gt'<sc>)</sc>
        _of.write<sc>(</sc>"&ltpre <kw>class</kw>=js&gt\n"<sc>)</sc>
        <kw>for</kw> l<kw>in</kw>e <kw>in</kw> js<sc>[</sc>1:<sc>]</sc>:
            <kw>for</kw> word <kw>in</kw> js_reserved:
                <kw>if</kw> findWholeWord<sc>(</sc>word<sc>)</sc><sc>(</sc>line<sc>)</sc>:
                    line = line.replace<sc>(</sc>word, "&ltkw&gt" + word + "&lt/kw&gt"<sc>)</sc>
            <kw>for</kw> sym <kw>in</kw> special_symbols:
                <kw>if</kw> sym <kw>in</kw> l<kw>in</kw>e:
                    line = line.replace<sc>(</sc>sym, "&ltsc&gt" + sym + "&lt/sc&gt"<sc>)</sc>
            <kw>if</kw> "//" <kw>in</kw> l<kw>in</kw>e:
                line = line.replace<sc>(</sc>'//', '&ltcomment <kw>class</kw>="js"&gt//', 1<sc>)</sc>
                line = line<sc>[</sc>:-1<sc>]</sc> + "&lt/comment&gt\n"
            line = line.replace<sc>(</sc>'/*', '&ltcomment <kw>class</kw>="js"&gt/*'<sc>)</sc>
            line = line.replace<sc>(</sc>'*/', '*/&lt/comment&gt'<sc>)</sc>
                
            _of.write<sc>(</sc>line<sc>)</sc>
        _of.write<sc>(</sc>"&lt/pre&gt\n"<sc>)</sc>

    <kw>for</kw> py <kw>in</kw> py_readers:
        _of.write<sc>(</sc>'&ltdiv <kw>class</kw>="bookmark"&gt' + py<sc>[</sc>0<sc>]</sc> + '&lt/div&gt'<sc>)</sc>
        _of.write<sc>(</sc>"&ltpre <kw>class</kw>=py&gt\n"<sc>)</sc>
        <kw>for</kw> l<kw>in</kw>e <kw>in</kw> py<sc>[</sc>1:<sc>]</sc>:
            line = line.replace<sc>(</sc>"&lt", "&lt"<sc>)</sc>
            line = line.replace<sc>(</sc>"&gt", "&gt"<sc>)</sc>
            <kw>for</kw> word <kw>in</kw> py_reserved:
                <kw>if</kw> findWholeWord<sc>(</sc>word<sc>)</sc><sc>(</sc>line<sc>)</sc>:
                    line = line.replace<sc>(</sc>word, "&ltkw&gt" + word + "&lt/kw&gt"<sc>)</sc>
            <kw>for</kw> sym <kw>in</kw> special_symbols:
                <kw>if</kw> sym <kw>in</kw> l<kw>in</kw>e:
                    line = line.replace<sc>(</sc>sym, "&ltsc&gt" + sym + "&lt/sc&gt"<sc>)</sc>
            <kw>if</kw> "<comment Class="py">#" <kw>in</kw> l<kw>in</kw>e:</comment>
                line = line.replace<sc>(</sc>'<comment Class="py">#', '&ltcomment Class="py"&gt#', 1<sc>)</sc></comment>
                line = line<sc>[</sc>:-1<sc>]</sc> + "&lt/comment&gt\n"
            _of.write<sc>(</sc>line<sc>)</sc>
        _of.write<sc>(</sc>"&lt/pre&gt\n"<sc>)</sc>


    i += 1
    <kw>while</kw> i &lt len<sc>(</sc>template<sc>)</sc>:
        _of.write<sc>(</sc>template<sc>[</sc>i<sc>]</sc><sc>)</sc>
        i += 1
</pre>

</body>
</html>
